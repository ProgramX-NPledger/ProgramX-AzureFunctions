using System.Text.Json.Serialization;

namespace ProgramX.Azure.FunctionApp.Model.Requests;

/// <summary>
/// Represents a request to update a user.
/// </summary>
public class UpdateUserRequest
{
    /// <summary>
    /// The new email address of the user. To update this, the user must have the "updateProfileScope" property set.
    /// </summary>
    [JsonPropertyName("emailAddress")]
    public string? emailAddress { get; set; }
    
    /// <summary>
    /// The new username of the user.
    /// </summary>
    /// <remarks>
    /// It is not possible to change the username of a user.
    /// </remarks>
    [JsonPropertyName("userName")]
    public required string userName { get; set; }

    /// <summary>
    /// The new first and last name of the user. To update these, the user must have the "updateProfileScope" property set.
    /// </summary>
    public string? firstName { get; set; }

    /// <summary>
    /// The new last name of the user. To update this, the user must have the "updateProfileScope" property set.
    /// </summary>
    public string? lastName { get; set; }

    /// <summary>
    /// Set to true to update the user's profile.
    /// </summary>
    public  bool updateProfileScope { get; set; } = false;

    /// <summary>
    /// Set to true to update the user's password.
    /// </summary>
    public bool updatePasswordScope { get; set; } = false;

    /// <summary>
    /// Set to true to update the user's profile picture.
    /// </summary>
    public bool updateProfilePictureScope { get; set; } = false;
    
    /// <summary>
    /// Set to true to update the user's roles.
    /// </summary>
    public bool updateRolesScope { get; set; } = false;
    
    /// <summary>
    /// Set to true to update the user's settings.
    /// </summary>
    public bool updateSettingsScope { get; set; } = false;

    /// <summary>
    /// The new password of the user. To set a new password, the user must have the "updatePasswordScope" property set.
    /// </summary>
    public string? newPassword { get; set; }
    
    /// <summary>
    /// The new theme of the user. To set a new theme, the user must have the "updateSettingsScope" property set.
    /// </summary>
    public string? theme { get; set; }
    
    /// <summary>
    /// The new roles of the user. To set new roles, the user must have the "updateRolesScope" property set.
    /// </summary>
    [JsonPropertyName("roles")] public IEnumerable<string> roles { get; set; } = [];

    /// <summary>
    /// The nonce used to confirm the password change. The nonce is generated by the client (usually email application) and must be sent back to the server along with the new password.
    /// </summary>
    public string? passwordConfirmationNonce { get; set; }
    
}